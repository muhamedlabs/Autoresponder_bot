import os 
import random
from telethon import events

# –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
IMAGE_PATH = os.path.abspath("–§–æ—Ç–æ_–º–∞—Ç–µ—Ä–∏–∞–ª/Photo_design/–¶–∞—Ä.jpg")  # –û–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞
MUSIC_FOLDER = os.path.abspath("–ü–æ–¥–∫–∞—Å—Ç_–º—É–∑–∏–∫–∞/Music_designer")  # –ü–∞–ø–∫–∞ —Å –º—É–∑—ã–∫–æ–π

# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Å–Ω—è–º
SONG_COMMENTS = [   
    "üé∂üî• –≠—Ç–æ—Ç —Ç—Ä–µ–∫ –ø—Ä–æ—Å—Ç–æ –≤–∑—Ä—ã–≤–∞–µ—Ç –º–æ–∑–≥! –ö–∞–∂–¥–∞—è –Ω–æ—Ç–∞ ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è —ç–º–æ—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–±–∏—Ä–∞–µ—Ç –¥–æ –º—É—Ä–∞—à–µ–∫!",  
    "üíñüéµ –ú—É–∑—ã–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞–µ—Ç –≤ –Ω–∞—É—à–Ω–∏–∫–∞—Ö, –∞ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Å–µ—Ä–¥—Ü–µ! –¢–∞–∫–æ–π –≤–∞–π–± –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å!",  
    "üòéüéß –í–æ—Ç —ç—Ç–æ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ö–∏—Ç! –í–∫–ª—é—á–∞–µ—à—å –∏ —Å—Ä–∞–∑—É –ø–æ–≥—Ä—É–∂–∞–µ—à—å—Å—è –≤ –¥—Ä—É–≥–æ–π –º–∏—Ä, –ø–æ–ª–Ω—ã–π —Ä–∏—Ç–º–∞ –∏ —ç–º–æ—Ü–∏–π!",  
    "üöÄ –ë–∏—Ç —ç—Ç–æ–π –ø–µ—Å–Ω–∏ –±—É–¥—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –∫–æ—Å–º–æ—Å! –í–∏–±—Ä–∞—Ü–∏–∏ —Ç–∞–∫–∏–µ –º–æ—â–Ω—ã–µ, —á—Ç–æ —Ö–æ—á–µ—Ç—Å—è —Å–ª—É—à–∞—Ç—å –Ω–∞ —Ä–µ–ø–∏—Ç–µ!",  
    "üîä –û—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –º—É–∑—ã–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è! –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∑–≤—É–∫, –ø–æ–ª–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ!",  
    "üé∂üíÉ –≠—Ç–æ—Ç —Ä–∏—Ç–º –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å! –•–æ—á–µ—Ç—Å—è –¥–≤–∏–≥–∞—Ç—å—Å—è, –ø–æ–¥–ø–µ–≤–∞—Ç—å, –æ—â—É—â–∞—Ç—å –∫–∞–∂–¥—É—é –Ω–æ—Ç—É!",  
    "üåôüéµ –ò–¥–µ–∞–ª—å–Ω—ã–π —Ç—Ä–µ–∫ –¥–ª—è —É—é—Ç–∞ –∏ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏—è. –ó–∞–∫—Ä—ã–≤–∞–µ—à—å –≥–ª–∞–∑–∞ –∏ –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—à—å—Å—è –≤ –º–µ–ª–æ–¥–∏–∏!",  
    "üéº‚ú® –ì–∞—Ä–º–æ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç! –≠—Ç–æ –±–æ–ª—å—à–µ, —á–µ–º –º—É–∑—ã–∫–∞ ‚Äî —ç—Ç–æ –≤–æ–ª—à–µ–±—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –æ–∂–∏–≤–∞–µ—Ç –≤ –∫–∞–∂–¥–æ–π —Å–µ–∫—É–Ω–¥–µ!",  
    "üéßüî• –¢–æ–ª—å–∫–æ –≤–∫–ª—é—á–∏–ª, –∞ —É–∂–µ —á—É–≤—Å—Ç–≤—É—é, –∫–∞–∫ —ç—Ç–æ—Ç —Ç—Ä–µ–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–æ–∏–º –ª—é–±–∏–º—ã–º! –ì–µ–Ω–∏–∞–ª—å–Ω–æ, —Å—Ç–∏–ª—å–Ω–æ, –º–æ—â–Ω–æ!",  
    "üéµüîÆ –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –º–∞–≥–∏—è –≤ —á–∏—Å—Ç–æ–º –≤–∏–¥–µ! –°–ª—É—à–∞–µ—à—å –∏ –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ –Ω–∞—Å—Ç–æ—è—â–∞—è –º—É–∑—ã–∫–∞ —Å–ø–æ—Å–æ–±–Ω–∞ —Ç–≤–æ—Ä–∏—Ç—å —á—É–¥–µ—Å–∞!"  
]   

def register_auto_reply(client):
    """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É '–ü–µ—Å–Ω—èPro'."""

    @client.on(events.NewMessage(outgoing=True, pattern=r"^–ü–µ—Å–Ω—èPro$"))
    async def send_songs(event):
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –∏ 3 —Å–ª—É—á–∞–π–Ω—ã–µ –ø–µ—Å–Ω–∏ —Å –ø–æ–¥–ø–∏—Å—è–º–∏."""
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É –±–µ–∑ –ø–æ–¥–ø–∏—Å–∏
        if os.path.exists(IMAGE_PATH):
            await event.client.send_file(event.chat_id, IMAGE_PATH)
            print(f"A picture has been sent: {IMAGE_PATH}")
        else:
            print(f"–û—à–∏–±–∫–∞: –§–∞–π–ª '{IMAGE_PATH}' –Ω–µ –Ω–∞–π–¥–µ–Ω!")

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –ø–∞–ø–∫–∏ —Å –º—É–∑—ã–∫–æ–π
        if not os.path.exists(MUSIC_FOLDER):
            print(f"–û—à–∏–±–∫–∞: –ü–∞–ø–∫–∞ '{MUSIC_FOLDER}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!")
            return

        songs = [f for f in os.listdir(MUSIC_FOLDER) if f.lower().endswith((".mp3", ".wav", ".ogg"))]

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –º—É–∑—ã–∫–∏
        if len(songs) < 3:
            print("–û—à–∏–±–∫–∞: –í –ø–∞–ø–∫–µ —Å –º—É–∑—ã–∫–æ–π –º–µ–Ω—å—à–µ 3 —Ñ–∞–π–ª–æ–≤!")
            return

        # –í—ã–±–∏—Ä–∞–µ–º 3 —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–µ—Å–Ω–∏
        random_songs = random.sample(songs, 3)

        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∂–¥—É—é –ø–µ—Å–Ω—é —Å –ø–æ–¥–ø–∏—Å—å—é
        for song in random_songs:
            random_comment = random.choice(SONG_COMMENTS)
            song_path = os.path.join(MUSIC_FOLDER, song)
            await event.client.send_file(event.chat_id, song_path, caption=random_comment)
            print(f"Song Sent: {song_path}")