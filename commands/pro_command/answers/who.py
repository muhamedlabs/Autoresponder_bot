import os 
import random
from telethon import events

# –ü—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
PHOTO_FOLDER = os.path.abspath("–§–æ—Ç–æ_–º–∞—Ç–µ—Ä–∏–∞–ª/Photo_design/–ê–Ω–¥—Ä–µ–π –ú—É—Ö–∞–º–µ–¥")

# –ê–≤—Ç–æ–±–∏–æ–≥—Ä–∞—Ñ–∏—è –ê–Ω–¥—Ä–µ—è –ú—É—Ö–∞–º–µ–¥–∞
BIOGRAPHY = (
    "**–ê–Ω–¥—Ä–µ–π –ú—É—Ö–∞–º–µ–¥ ‚Äî –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å –∏ –≤–¥–æ—Ö–Ω–æ–≤–∏—Ç–µ–ª—å –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.**\n\n"
    "üåü –ï–≥–æ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç **—Ä–µ–∫–ª–∞–º—É, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç**, –æ–±—ä–µ–¥–∏–Ω—è—è –∏–¥–µ–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—á—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ.\n\n"
    "**–í–ª–∞–¥–µ–ª–µ—Ü –ø—è—Ç–∏ –¥–∏–Ω–∞–º–∏—á–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—é—â–∏—Ö—Å—è –∫–∞–Ω–∞–ª–æ–≤:**\n"
    "‚Äî üéÆ __Game Quest__ - –≤—Å—ë –æ –≤–∏–¥–µ–æ–∏–≥—Ä–∞—Ö –∏ –∏—Ö –∏–Ω–¥—É—Å—Ç—Ä–∏–∏;\n"
    "‚Äî üî• __Nanson__ - –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–µ—Å–Ω–∏ –±–µ–∑ –∞–ø;\n"
    "‚Äî üéå __ANIME INDUSTRY__ - –º–∏—Ä –ø–æ–¥–±–æ—Ä–æ–∫ –Ω–æ–≤–∏–Ω–æ–∫ –∞–Ω–∏–º–µ;\n"
    "‚Äî üé• __KINO INDUSTRY__ - –Ω–æ–≤–∏–Ω–∫–∏ –∫–∏–Ω–æ, —Å–µ—Ä–∏–∞–ª–æ–≤ –∏ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤;\n"
    "‚Äî üéß __–°—Ç—Ä–∏–º—É—Å__ - –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–∏–º—ã –æ—Ç –¥—É—à–∏.\n\n"
    "üíª –ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ, –ê–Ω–¥—Ä–µ–π –∞–∫—Ç–∏–≤–Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è **–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ—Ü—Å–µ—Ç—è–º–∏, —Ä–µ–∫–ª–∞–º–æ–π, –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, –≤–∏–¥–µ–æ–º–æ–Ω—Ç–∞–∂–æ–º –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞**.\n\n"
    "**–ï–≥–æ –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —á—Ç–æ-—Ç–æ** [–Ω–æ–≤–æ–µ!](https://muhamedlabs.pro)"
)

def register_auto_reply(client):
    """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É '–ö—Ç–æPro'."""

    @client.on(events.NewMessage(outgoing=True, pattern=r"^–ö—Ç–æPro$"))
    async def send_bio(event):
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –ê–Ω–¥—Ä–µ—è –ú—É—Ö–∞–º–µ–¥–∞ –∫–∞–∫ —Å–ø–æ–π–ª–µ—Ä + –±–∏–æ–≥—Ä–∞—Ñ–∏—é."""

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–∞–ø–∫–∞ —Å —Ñ–æ—Ç–æ
        if not os.path.exists(PHOTO_FOLDER):
            print(f"–û—à–∏–±–∫–∞: –ü–∞–ø–∫–∞ '{PHOTO_FOLDER}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!")
            await event.respond(BIOGRAPHY)  # –ï—Å–ª–∏ –ø–∞–ø–∫–∏ –Ω–µ—Ç, –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
            return

        # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ç–æ –∏–∑ –ø–∞–ø–∫–∏
        photos = [f for f in os.listdir(PHOTO_FOLDER) if f.lower().endswith((".png", ".jpg", ".jpeg"))]

        if photos:
            # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
            random_photo = os.path.join(PHOTO_FOLDER, random.choice(photos))
            await event.client.send_file(
                event.chat_id, random_photo, caption=BIOGRAPHY, spoiler=True
            )
            print(f"–§–æ—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–∞–∫ —Å–ø–æ–π–ª–µ—Ä: {random_photo}")
        else:
            await event.respond(BIOGRAPHY)  # –ï—Å–ª–∏ —Ñ–æ—Ç–æ –Ω–µ—Ç, –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
            print("–û—à–∏–±–∫–∞: –í –ø–∞–ø–∫–µ –Ω–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π!")