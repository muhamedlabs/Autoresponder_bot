import asyncio
import os
import random
from telethon import events

RESPONSES = [  
    "**–°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏, –ë–†–û!** üåô\n\n–ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å —É–π–¥—ë—Ç —Å —Ö–æ—Ä–æ—à–∏–º–∏ –º—ã—Å–ª—è–º–∏, –∞ –Ω–æ–≤—ã–π –ø—Ä–∏–Ω–µ—Å—ë—Ç –Ω–æ–≤—ã–µ –ø–æ–±–µ–¥—ã! –û—Ç–¥—ã—Ö–∞–π, –∑–∞—Ä—è–∂–∞–π—Å—è —ç–Ω–µ—Ä–≥–∏–µ–π, –∏ –∑–∞–≤—Ç—Ä–∞ —Å–Ω–æ–≤–∞ –±—É–¥–µ—à—å –ø–æ–∫–æ—Ä—è—Ç—å –º–∏—Ä! üí™üî•",  

    "**–ë–†–û, –ø–æ—Ä–∞ –≤—ã–∫–ª—é—á–∞—Ç—å —Å–≤–µ—Ç –∏ –Ω–∞–±–∏—Ä–∞—Ç—å—Å—è —Å–∏–ª!** üí°\n\n–ó–∞–≤—Ç—Ä–∞ —Ç–µ–±—è –∂–¥—É—Ç –≤–µ–ª–∏–∫–∏–µ –¥–µ–ª–∞, –∫—Ä—É—Ç—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ –Ω–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è! –ü—É—Å—Ç—å –Ω–æ—á—å –±—É–¥–µ—Ç —Å–ø–æ–∫–æ–π–Ω–æ–π, –∞ —Å–æ–Ω ‚Äî –≥–ª—É–±–æ–∫–∏–º –∏ –ø—Ä–∏—è—Ç–Ω—ã–º! üåü",  

    "**–ó–∞–∫—Ä—ã–≤–∞–π –≥–ª–∞–∑–∞, –ë–†–û!** üò¥\n\n–ü—É—Å—Ç—å –≤—Å–µ —Ç—Ä–µ–≤–æ–≥–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –ø–æ–∑–∞–¥–∏, –∞ –Ω–æ–≤—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–µ—Å—ë—Ç —Ç–µ–±–µ —Ç–æ–ª—å–∫–æ —Ä–∞–¥–æ—Å—Ç—å –∏ —É—Å–ø–µ—Ö! –•–æ—Ä–æ—à–∏—Ö —Å–Ω–æ–≤, –¥—Ä—É–∂–∏—â–µ! üåô‚ú®",  

    "**–ü–æ—Ä–∞ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∏—Ç—å –±–∞—Ç–∞—Ä–µ–π–∫–∏, –ë–†–û!** üîã –ó–∞–≤—Ç—Ä–∞ –Ω–æ–≤—ã–π –¥–µ–Ω—å, –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –Ω–æ–≤—ã–π —à–∞–Ω—Å —Å—Ç–∞—Ç—å –µ—â—ë –ª—É—á—à–µ! –¢–∞–∫ —á—Ç–æ –æ—Ç–¥—ã—Ö–∞–π, –ø—É—Å—Ç—å —Ç–µ–±–µ —Å–Ω—è—Ç—Å—è –ª—É—á—à–∏–µ —Å–Ω—ã! üåôüí§",  

    "**–õ—É–Ω–∞ —É–∂–µ —Å–≤–µ—Ç–∏—Ç –¥–ª—è —Ç–µ–±—è, –ë–†–û!** üåï\n\n–≠—Ç–æ –∑–Ω–∞–∫, —á—Ç–æ –ø–æ—Ä–∞ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –º–∏—Ä —Å–Ω–æ–≤–∏–¥–µ–Ω–∏–π! –ü—É—Å—Ç—å —É—Ç—Ä–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç —Ç–µ–±—è —Å–≤–µ–∂–∏–º, –ø–æ–ª–Ω—ã–º —Å–∏–ª –∏ –≥–æ—Ç–æ–≤—ã–º –∫ –Ω–æ–≤—ã–º —Å–≤–µ—Ä—à–µ–Ω–∏—è–º! –°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏! üåü",  

    "**–ù–æ—á—å ‚Äî –≤—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞, –ë–†–û!** üõå\n\n–ó–∞–∫—Ä–æ–π –≥–ª–∞–∑–∞, –æ—Ç–ø—É—Å—Ç–∏ –≤—Å–µ –º—ã—Å–ª–∏ –∏ –ø–æ–∑–≤–æ–ª—å —Å–µ–±–µ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –º–∏—Ä –≥—Ä—ë–∑. –ü—É—Å—Ç—å —Ç–≤–æ–∏ —Å–Ω—ã –±—É–¥—É—Ç —è—Ä–∫–∏–º–∏, –∞ —É—Ç—Ä–æ ‚Äî –ª—ë–≥–∫–∏–º –∏ –±–æ–¥—Ä—ã–º! üò¥",  

    "–ù–∞—Å—Ç–∞–ª–æ –≤—Ä–µ–º—è –æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è –æ—Ç —Å—É–µ—Ç—ã –¥–Ω—è –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –≤ –º–∏—Ä —Å–Ω–æ–≤, –ë–†–û! üí§ –ü—É—Å—Ç—å –∑–∞–≤—Ç—Ä–∞—à–Ω–∏–π –¥–µ–Ω—å –±—É–¥–µ—Ç –µ—â—ë –ª—É—á—à–µ, —á–µ–º —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π! –î–æ –∑–∞–≤—Ç—Ä–∞! üåô",  

    "**–û—Ç–¥—ã—Ö–∞–π, –ë–†–û!** üå†\n\n–¢—ã —Å–µ–≥–æ–¥–Ω—è –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–∏–ª—Å—è, –∞ –∑–∞–≤—Ç—Ä–∞ —Ç–µ–±—è –∂–¥—É—Ç –Ω–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã! –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–π—Å—è, –∑–∞—Ä—è–∂–∞–π—Å—è, –∏ –ø—É—Å—Ç—å —ç—Ç–∞ –Ω–æ—á—å –±—É–¥–µ—Ç —Å–∞–º–æ–π —Å–ø–æ–∫–æ–π–Ω–æ–π –∏ —É—é—Ç–Ω–æ–π! üò¥üî•",  

    "**–ü–æ—Ä–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ —Ü–∞—Ä—Å—Ç–≤–æ –ú–æ—Ä—Ñ–µ—è, –ë–†–û!** üëë\n\n–ó–∞–∫—Ä—ã–≤–∞–π –≥–ª–∞–∑–∞, –∑–∞–±—ã–≤–∞–π –æ–±–æ –≤—Å—ë–º –∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Å—è –∑–∞—Å–ª—É–∂–µ–Ω–Ω—ã–º –æ—Ç–¥—ã—Ö–æ–º. –ó–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –Ω–æ–≤—ã–π –¥–µ–Ω—å, –∏ —Ç—ã –±—É–¥–µ—à—å –∫ –Ω–µ–º—É –≥–æ—Ç–æ–≤! üåôüí§",  

    "–ù–æ—á—å ‚Äî —ç—Ç–æ –Ω–µ –∫–æ–Ω–µ—Ü, –∞ –Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ –¥–Ω—è, –ë–†–û! üåå –ü—É—Å—Ç—å —Å–æ–Ω –±—É–¥–µ—Ç —Å–ª–∞–¥–∫–∏–º, –∞ —É—Ç—Ä–æ ‚Äî –ª—ë–≥–∫–∏–º. –ó–∞–≤—Ç—Ä–∞ –Ω–æ–≤—ã–π –¥–µ–Ω—å, –Ω–æ–≤—ã–µ —Å–≤–µ—Ä—à–µ–Ω–∏—è, –∏ —Ç—ã –∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–∫–æ—Ä–∏—à—å! üöÄ",  
]  

# –†–∞–Ω–¥–æ–º–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Å–Ω–µ
SONG_COMMENTS = [  
    "–ò–¥–µ–∞–ª—å–Ω—ã–π —Ç—Ä–µ–∫, —á—Ç–æ–±—ã —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –¥–æ–ª–≥–æ–≥–æ –¥–Ω—è... üòåüé∂",  
    "–ú—É–∑—ã–∫–∞, –æ–∫—É—Ç—ã–≤–∞—é—â–∞—è —Ç–µ–ø–ª–æ–º –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ–º... üåô‚ú®",  
    "–ó–≤—É–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–≤–Ω–æ —É–±–∞—é–∫–∏–≤–∞—é—Ç... –í—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞—Ç—å! üò¥üéµ",  
    "–¢–æ—Ç —Å–∞–º—ã–π —Ç—Ä–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –º—è–≥–∫–æ –ø—Ä–æ–≤–æ–∂–∞–µ—Ç —Ç–µ–±—è –≤ —Å–æ–Ω... üí§",  
    "–ú–µ–ª–æ–¥–∏—è, –Ω–∞–ø–æ–ª–Ω—è—é—â–∞—è –¥—É—à—É —Ç–∏—à–∏–Ω–æ–π –∏ —É–º–∏—Ä–æ—Ç–≤–æ—Ä–µ–Ω–∏–µ–º... üåå",  
    "–ü–æ—Å–ª–µ —Ç–∞–∫–æ–≥–æ —Ç—Ä–µ–∫–∞ –º—ã—Å–ª–∏ —É—Å–ø–æ–∫–∞–∏–≤–∞—é—Ç—Å—è, –∏ —Ç–µ–ª–æ —Ä–∞—Å—Å–ª–∞–±–ª—è–µ—Ç—Å—è... üòåüí§",  
    "–≠—Ç–∏ –∑–≤—É–∫–∏ —Å–ª–æ–≤–Ω–æ –æ–±–Ω–∏–º–∞—é—Ç –∏ —É–Ω–æ—Å—è—Ç –≤ –º–∏—Ä –≥—Ä—ë–∑... üé∂‚ú®",  
    "–ú—É–∑—ã–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–Ω–∏–º–∞–µ—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∏ –≥–æ—Ç–æ–≤–∏—Ç –∫ —Å–Ω—É... üõèÔ∏èüéµ",  
    "–ó–∞–∫—Ä–æ–π –≥–ª–∞–∑–∞, –≥–ª—É–±–æ–∫–æ –≤–¥–æ—Ö–Ω–∏... –∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Å—è —ç—Ç–∏–º –∑–≤—É–∫–æ–º... üåôüé∂",  
    "–ò–¥–µ–∞–ª—å–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ—Ç —Å—É–µ—Ç—ã... –°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏! üò¥",  
]    

# –ü—É—Ç–∏ –∫ –ø–∞–ø–∫–∞–º
IMAGE_FOLDER = os.path.abspath("–§–æ—Ç–æ_–º–∞—Ç–µ—Ä–∏–∞–ª/Photo_design/Alex_Diaconu_–ù–û–ß–¨") # –ü–∞–ø–∫–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
MUSIC_FOLDER = os.path.abspath("–ü–æ–¥–∫–∞—Å—Ç_–º—É–∑–∏–∫–∞/Music_designer/Nanson_–ù–û–ß–¨")  # –ü–∞–ø–∫–∞ —Å –ø–µ—Å–Ω—è–º–∏

def register_auto_reply(client):
    """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞–≤—Ç–æ-–æ—Ç–≤–µ—Ç –Ω–∞ '–Ω–æ—á—å'."""
    
    @client.on(events.NewMessage(outgoing=True))
    async def auto_reply(event):
        if "–Ω–æ—á—å" in event.message.text.lower():
            await asyncio.sleep(1)

            random_text = random.choice(RESPONSES)

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
            if not os.path.exists(IMAGE_FOLDER):
                print(f"–û—à–∏–±–∫–∞: –ü–∞–ø–∫–∞ '{IMAGE_FOLDER}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!")
                await event.respond(random_text)
                return

            images = [f for f in os.listdir(IMAGE_FOLDER) if f.lower().endswith((".png", ".jpg", ".jpeg"))]

            if images:
                random_image = os.path.join(IMAGE_FOLDER, random.choice(images))
                await event.client.send_file(event.chat_id, random_image, caption=random_text)
                print(f"The answer to 'night' with a picture")
            else:
                await event.respond(random_text)
                print(f"–û—Ç–≤–µ—Ç –Ω–∞ '–Ω–æ—á—å' –±–µ–∑ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–Ω–µ—Ç —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ)")

            # –ó–∞–¥–µ—Ä–∂–∫–∞ 2 –º–∏–Ω—É—Ç—ã 30 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø–µ—Å–Ω–∏
            await asyncio.sleep(150)  

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å –º—É–∑—ã–∫–æ–π
            if not os.path.exists(MUSIC_FOLDER):
                print(f"–û—à–∏–±–∫–∞: –ü–∞–ø–∫–∞ '{MUSIC_FOLDER}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!")
                return

            songs = [f for f in os.listdir(MUSIC_FOLDER) if f.lower().endswith((".mp3", ".wav", ".ogg"))]

            if songs:
                random_song = os.path.join(MUSIC_FOLDER, random.choice(songs))
                random_comment = random.choice(SONG_COMMENTS)
                await event.client.send_file(event.chat_id, random_song, caption=random_comment)
                print(f"A random song was sent: {random_song}")
            else:
                print("–û—à–∏–±–∫–∞: –í –ø–∞–ø–∫–µ —Å –º—É–∑—ã–∫–æ–π –Ω–µ—Ç —Ñ–∞–π–ª–æ–≤!")