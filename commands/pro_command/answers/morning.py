import asyncio
import os
import random
from telethon import events

# –†–∞–Ω–¥–æ–º–Ω—ã–µ —É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
RESPONSES = [  
    "**–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ë–†–û!** üåû\n\n–ù–æ–≤—ã–π –¥–µ–Ω—å ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –∫—Ä—É—Ç–æ–µ! –î–∞–≤–∞–π –∑–∞—Ä—è–∂–∞—Ç—å—Å—è –Ω–∞ –ø–æ–∑–∏—Ç–∏–≤ –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å! –í–ø–µ—Ä—ë–¥ –∫ –ø–æ–±–µ–¥–∞–º! üí™üî•",  

    "**–≠–π, —á–µ–º–ø–∏–æ–Ω!** üöÄ\n\n–°–æ–ª–Ω—ã—à–∫–æ –≤—Å—Ç–∞–ª–æ, –∞ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø–æ—Ä–∞ –∏ —Ç–µ–±–µ –≤—Å—Ç–∞–≤–∞—Ç—å, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –Ω–∞ —É—Å–ø–µ—Ö –∏ –ø–æ–∫–æ—Ä—è—Ç—å —ç—Ç–æ—Ç –º–∏—Ä! –ñ–µ–ª–∞—é —Ç–µ–±–µ –º–æ—â–Ω–æ–≥–æ –¥–Ω—è, —ç–Ω–µ—Ä–≥–∏–∏ –∏ —Ç–æ–ø–æ–≤—ã—Ö —ç–º–æ—Ü–∏–π! üòé",  

    "**–£—Ç—Ä–µ—á–∫–æ, –ë–†–û!** ‚òï\n\n–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —ç—Ç–æ—Ç –¥–µ–Ω—å ‚Äî —Ç–≤–æ—è –Ω–æ–≤–∞—è –∏–≥—Ä–æ–≤–∞—è —Å–µ—Å—Å–∏—è, –≥–¥–µ —Ç—ã –≥–ª–∞–≤–Ω—ã–π –≥–µ—Ä–æ–π! –¢–∞–∫ —á—Ç–æ –±–µ—Ä–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–≤–æ–∏ —Ä—É–∫–∏ –∏ –ø—Ä–æ–∫–∞—á–∏–≤–∞–π —Å–≤–æ—é –∂–∏–∑–Ω—å –Ω–∞ –º–∞–∫—Å–∏–º—É–º! –õ—É—Ç–∞–π —É–¥–∞—á—É, —Ñ–∞—Ä–º–∏ —É—Å–ø–µ—Ö –∏ –∞–ø–∞–π –Ω–æ–≤—ã–π –ª–µ–≤–µ–ª! üèÜüéÆ",  

    "–î–µ–Ω—å —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª—Å—è, –∞ —Ç—ã —É–∂–µ –±–ª–∏–∂–µ –∫ —Å–≤–æ–µ–π —Ü–µ–ª–∏, –ë–†–û! üöÄ\n\n–ù–µ —Ç–æ—Ä–º–æ–∑–∏, –Ω–µ —Å–¥–∞–≤–∞–π—Å—è, –¥–≤–∏–≥–∞–π—Å—è —Ç–æ–ª—å–∫–æ –≤–ø–µ—Ä—ë–¥! –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Å–µ–≥–æ–¥–Ω—è ‚Äî —ç—Ç–æ —à–∞–≥ –∫ –±—É–¥—É—â–µ–º—É —É—Å–ø–µ—Ö—É! –¢—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è, —Ç—ã –ª—É—á—à–∏–π! üî•",  

    "–ü—Ä–æ—Å–Ω—É–ª—Å—è? –ó–Ω–∞—á–∏—Ç, —É–∂–µ —Å–¥–µ–ª–∞–ª –ø–µ—Ä–≤—ã–π —à–∞–≥ –∫ –ø–æ–±–µ–¥–µ! üí™ –°–µ–≥–æ–¥–Ω—è —É —Ç–µ–±—è –µ—Å—Ç—å —à–∞–Ω—Å —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –∫—Ä—É—Ç–æ–µ, –¥–æ–±–∏—Ç—å—Å—è –Ω–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –ø—Ä–∏–±–ª–∏–∑–∏—Ç—å—Å—è –∫ –º–µ—á—Ç–µ. –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –¥–µ–Ω—å –Ω–∞ –º–∞–∫—Å–∏–º—É–º, –ë–†–û! –¢—ã —Å–ø–æ—Å–æ–±–µ–Ω –Ω–∞ –±–æ–ª—å—à–µ–µ, —á–µ–º —Å–∞–º –¥—É–º–∞–µ—à—å! üöÄ",  

    "**–ù–æ–≤—ã–π –¥–µ–Ω—å ‚Äî –Ω–æ–≤—ã–π —Å—Ç–∞—Ä—Ç, –ë–†–û!** üåü\n\n–û—Å—Ç–∞–≤—å –∑–∞ —Å–ø–∏–Ω–æ–π –ø—Ä–æ—à–ª—ã–µ –æ—à–∏–±–∫–∏, —Å–¥–µ–ª–∞–π –≤—ã–≤–æ–¥—ã –∏ –¥–≤–∏–≥–∞–π—Å—è –≤–ø–µ—Ä—ë–¥! –°–µ–≥–æ–¥–Ω—è —Ç–µ–±—è –∂–¥—ë—Ç —á—Ç–æ-—Ç–æ –∫—Ä—É—Ç–æ–µ, –≥–ª–∞–≤–Ω–æ–µ ‚Äî –Ω–µ —É–ø—É—Å—Ç–∏ —Å–≤–æ–π —à–∞–Ω—Å! –ë—É–¥—å –∑–∞—Ä—è–∂–µ–Ω, –±—É–¥—å –≤ –ø–æ—Ç–æ–∫–µ, –±—É–¥—å —Å–æ–±–æ–π! üî•",  

    "**–£—Å–ø–µ—Ö –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–∞–º, –ë–†–û!** üíº\n\n–û–Ω –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫ —Ç–µ–º, –∫—Ç–æ –≤—Å—Ç–∞—ë—Ç, —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ —Å–æ–±–æ–π –∏ –∏–¥—ë—Ç –∫ —Å–≤–æ–∏–º —Ü–µ–ª—è–º. –¢–∞–∫ —á—Ç–æ –ø–æ–¥–Ω–∏–º–∞–π—Å—è, –∑–∞—Ä—è–∂–∞–π—Å—è —ç–Ω–µ—Ä–≥–∏–µ–π –∏ –¥–µ–π—Å—Ç–≤—É–π! –≠—Ç–æ—Ç –¥–µ–Ω—å –≤ —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö! üöÄ",  

    "–ö–æ—Ñ–µ –≤ —Ä—É–∫–µ, —Ü–µ–ª—å –≤ –≥–æ–ª–æ–≤–µ, —ç–Ω–µ—Ä–≥–∏—è –≤ —Ç–µ–ª–µ ‚Äî —Ç—ã –≥–æ—Ç–æ–≤ –ø–æ–±–µ–∂–¥–∞—Ç—å, –ë–†–û! ‚òïüî• –ù–µ –ø–æ–∑–≤–æ–ª—è–π –ª–µ–Ω–∏ –∏–ª–∏ —Å–æ–º–Ω–µ–Ω–∏—è–º —Å–±–∏—Ç—å —Ç–µ–±—è —Å –ø—É—Ç–∏! –°–µ–≥–æ–¥–Ω—è —Ç–≤–æ–π –¥–µ–Ω—å, –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –Ω–∞ –ø–æ–ª–Ω—É—é! üí™",  

    "**–≠–π, –ë–†–û, —É–ª—ã–±–∞–π—Å—è!** üòÉ\n\n–£–ª—ã–±–∫–∞ –¥–µ–ª–∞–µ—Ç –¥–µ–Ω—å —è—Ä—á–µ, –∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ª—É—á—à–µ! –í–ø–µ—Ä–µ–¥–∏ —Ü–µ–ª—ã–π –¥–µ–Ω—å –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –≤—Å—Ç—Ä–µ—á –∏ –∫—Ä—É—Ç—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤. –õ–æ–≤–∏ –≤–æ–ª–Ω—É –ø–æ–∑–∏—Ç–∏–≤–∞ –∏ –¥–µ–ª–∞–π —ç—Ç–æ—Ç –¥–µ–Ω—å –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–º! üöÄ",  

    "–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å –¥–µ–Ω—å ‚Äî –Ω–∞—á–Ω–∏ —Å —É–ª—ã–±–∫–∏, –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∏ —Ä–µ—à–∏–º–æ—Å—Ç–∏ –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä—ë–¥! üî• –í—Å—ë, —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –¥–ª—è —É—Å–ø–µ—Ö–∞, —É–∂–µ –≤–Ω—É—Ç—Ä–∏ —Ç–µ–±—è, –ë–†–û! –ü—Ä–æ—Å—Ç–æ –¥–µ–π—Å—Ç–≤—É–π –∏ –Ω–µ –æ–≥–ª—è–¥—ã–≤–∞–π—Å—è –Ω–∞–∑–∞–¥! –°–µ–≥–æ–¥–Ω—è —Ç—ã –Ω–∞ —à–∞–≥ –±–ª–∏–∂–µ –∫ —Å–≤–æ–µ–π –º–µ—á—Ç–µ! üöÄüí™",  
] 

# –†–∞–Ω–¥–æ–º–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–µ—Å–Ω–µ
SONG_COMMENTS = [  
    "–≠—Ç–∞ –ø–µ—Å–Ω—è ‚Äî —á–∏—Å—Ç–∞—è —ç–Ω–µ—Ä–≥–∏—è! üí•üî•",  
    "–ó–∞—Ä—è–¥ –±–æ–¥—Ä–æ—Å—Ç–∏ –Ω–∞ –≤–µ—Å—å –¥–µ–Ω—å –æ–±–µ—Å–ø–µ—á–µ–Ω! üé∂‚ö°",  
    "–ö–∞–∫ –∂–µ –∫—Ä—É—Ç–æ –ø–æ–¥–Ω–∏–º–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ! üéµüí™",  
    "–ü–æ—Å–ª–µ —Ç–∞–∫–æ–≥–æ —Ç—Ä–µ–∫–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–∏–¥–µ—Ç—å –Ω–∞ –º–µ—Å—Ç–µ! üöÄ",  
    "–≠—Ç–æ—Ç –±–∏—Ç ‚Äî —Ç–æ–ø–ª–∏–≤–Ω—ã–π –∑–∞—Ä—è–¥ –¥–ª—è —Ç–µ–ª–∞ –∏ –¥—É—à–∏! üî•üéß",  
    "–ú—É–∑—ã–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–∑–≥–æ–Ω—è–µ—Ç —Å–æ–Ω–ª–∏–≤–æ—Å—Ç—å –∑–∞ —Å–µ–∫—É–Ω–¥—ã! ‚è∞‚ö°",  
    "–≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π –≤–∑—Ä—ã–≤ –≤ –∫–∞–∂–¥–æ–º –∞–∫–∫–æ—Ä–¥–µ! üí£üé∂",  
    "–í–æ—Ç —ç—Ç–æ –º–æ—â—å! –ë–æ–¥—Ä–æ—Å—Ç—å –Ω–∞ –º–∞–∫—Å–∏–º—É–º! üî•üí™",  
    "–ï—Å–ª–∏ —É—Ç—Ä–æ –Ω–µ –∑–∞–¥–∞–ª–æ—Å—å ‚Äî –≤–∫–ª—é—á–∞–π —ç—Ç–æ—Ç —Ç—Ä–µ–∫! üéµ‚òÄÔ∏è",  
    "–¢—Ä–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –∏ –∑–∞—Ä—è–∂–∞–µ—Ç –ø–æ–∑–∏—Ç–∏–≤–æ–º! üöÄüéß",  
]  

# –ü—É—Ç–∏ –∫ –ø–∞–ø–∫–∞–º
IMAGE_FOLDER = os.path.abspath("–§–æ—Ç–æ_–º–∞—Ç–µ—Ä–∏–∞–ª/Photo_design/Alex_Diaconu_–£–¢–†–û") # –ü–∞–ø–∫–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
MUSIC_FOLDER = os.path.abspath("–ü–æ–¥–∫–∞—Å—Ç_–º—É–∑–∏–∫–∞/Music_designer/Nanson_–£–¢–†–û")  # –ü–∞–ø–∫–∞ —Å –ø–µ—Å–Ω—è–º–∏

def register_auto_reply(client):
    """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞–≤—Ç–æ-–æ—Ç–≤–µ—Ç –Ω–∞ '—É—Ç—Ä–æ'."""
    
    @client.on(events.NewMessage(outgoing=True))
    async def auto_reply(event):
        if "—É—Ç—Ä–æ" in event.message.text.lower():
            await asyncio.sleep(1)

            random_text = random.choice(RESPONSES)

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
            if not os.path.exists(IMAGE_FOLDER):
                print(f"–û—à–∏–±–∫–∞: –ü–∞–ø–∫–∞ '{IMAGE_FOLDER}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!")
                await event.respond(random_text)
                return

            images = [f for f in os.listdir(IMAGE_FOLDER) if f.lower().endswith((".png", ".jpg", ".jpeg"))]

            if images:
                random_image = os.path.join(IMAGE_FOLDER, random.choice(images))
                await event.client.send_file(event.chat_id, random_image, caption=random_text)
                print(f"Reply to 'morning' with picture")
            else:
                await event.respond(random_text)
                print(f"–û—Ç–≤–µ—Ç –Ω–∞ '—É—Ç—Ä–æ' –±–µ–∑ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–Ω–µ—Ç —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ)")

            # –ó–∞–¥–µ—Ä–∂–∫–∞ 2 –º–∏–Ω—É—Ç—ã 30 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø–µ—Å–Ω–∏
            await asyncio.sleep(150)  

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å –º—É–∑—ã–∫–æ–π
            if not os.path.exists(MUSIC_FOLDER):
                print(f"–û—à–∏–±–∫–∞: –ü–∞–ø–∫–∞ '{MUSIC_FOLDER}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!")
                return

            songs = [f for f in os.listdir(MUSIC_FOLDER) if f.lower().endswith((".mp3", ".wav", ".ogg"))]

            if songs:
                random_song = os.path.join(MUSIC_FOLDER, random.choice(songs))
                random_comment = random.choice(SONG_COMMENTS)
                await event.client.send_file(event.chat_id, random_song, caption=random_comment)
                print(f"A random song was sent: {random_song}")
            else:
                print("–û—à–∏–±–∫–∞: –í –ø–∞–ø–∫–µ —Å –º—É–∑—ã–∫–æ–π –Ω–µ—Ç —Ñ–∞–π–ª–æ–≤!")


